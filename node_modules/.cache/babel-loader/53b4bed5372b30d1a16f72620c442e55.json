{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pedrogelado/dev/react-website-smooth-scroll-yt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pedrogelado/dev/react-website-smooth-scroll-yt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/pedrogelado/dev/react-website-smooth-scroll-yt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from\"react\";import{useAuth}from\"../../contexts/AuthContext\";import{Link,useHistory}from\"react-router-dom\";import{Form,FormWrap,FormLabel,FormInput,FormH1,FormButton,FormH2,Container,Box,Text,Icon,Alert,FormContent}from'./SigninElements';import{Button,ButtonRouter}from'../ButtonElement';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Dashboard(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useAuth=useAuth(),currentUser=_useAuth.currentUser,logout=_useAuth.logout;var history=useHistory();function handleLogout(){return _handleLogout.apply(this,arguments);}function _handleLogout(){_handleLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(\"\");_context.prev=1;_context.next=4;return logout();case 4:history.push(\"/signin\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(\"Failed to log out\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return _handleLogout.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(FormWrap,{children:[/*#__PURE__*/_jsx(Icon,{to:\"/\",children:\"GuardMyPi\"}),/*#__PURE__*/_jsx(FormContent,{children:/*#__PURE__*/_jsxs(Box,{children:[currentUser&&/*#__PURE__*/_jsx(FormH1,{children:\"Profile\"}),error&&/*#__PURE__*/_jsx(Alert,{children:error}),currentUser&&/*#__PURE__*/_jsxs(FormH2,{children:[\"Email: \",currentUser.email]}),currentUser&&/*#__PURE__*/_jsx(FormButton,{children:/*#__PURE__*/_jsx(Link,{to:\"/update-profile\",style:{textDecoration:'none',color:'#ffff'},children:\"Update Profile\"})}),currentUser&&/*#__PURE__*/_jsx(FormButton,{onClick:handleLogout,children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",style:{textDecoration:'none',color:'#ffff'},children:\"Log Out\"})}),currentUser==null&&/*#__PURE__*/_jsx(FormButton,{onClick:handleLogout,children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",style:{textDecoration:'none',color:'#ffff'},children:\"Sign In\"})})]})})]})})});}","map":{"version":3,"sources":["/Users/pedrogelado/dev/react-website-smooth-scroll-yt/src/components/Dashboard/index.js"],"names":["React","useRef","useState","useAuth","Link","useHistory","Form","FormWrap","FormLabel","FormInput","FormH1","FormButton","FormH2","Container","Box","Text","Icon","Alert","FormContent","Button","ButtonRouter","Dashboard","error","setError","currentUser","logout","history","handleLogout","push","email","textDecoration","color"],"mappings":"igBAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,KAAwC,OAAxC,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CAEA,OACAC,IADA,CAEAC,QAFA,CAGAC,SAHA,CAIAC,SAJA,CAKAC,MALA,CAMAC,UANA,CAOAC,MAPA,CAQAC,SARA,CASAC,GATA,CAUAC,IAVA,CAWAC,IAXA,CAYAC,KAZA,CAaAC,WAbA,KAakB,kBAblB,CAeA,OAAQC,MAAR,CAAgBC,YAAhB,KAAmC,kBAAnC,C,6IAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,eACRnB,QAAQ,CAAC,EAAD,CADA,wCAC3BoB,KAD2B,eACpBC,QADoB,4BAEFpB,OAAO,EAFL,CAE1BqB,WAF0B,UAE1BA,WAF0B,CAEbC,MAFa,UAEbA,MAFa,CAGlC,GAAMC,CAAAA,OAAO,CAAGrB,UAAU,EAA1B,CAHkC,QAKnBsB,CAAAA,YALmB,8IAKlC,mIACEJ,QAAQ,CAAC,EAAD,CAAR,CADF,sCAIUE,CAAAA,MAAM,EAJhB,QAKIC,OAAO,CAACE,IAAR,CAAa,SAAb,EALJ,+EAOIL,QAAQ,CAAC,mBAAD,CAAR,CAPJ,oEALkC,+CAgBhC,mBACI,sCACA,KAAC,SAAD,wBACI,MAAC,QAAD,yBACI,KAAC,IAAD,EAAM,EAAE,CAAE,GAAV,uBADJ,cAEI,KAAC,WAAD,wBACA,MAAC,GAAD,YACKC,WAAW,eAAI,KAAC,MAAD,sBADpB,CAEKF,KAAK,eAAI,KAAC,KAAD,WAAQA,KAAR,EAFd,CAGKE,WAAW,eAAI,MAAC,MAAD,sBAAgBA,WAAW,CAACK,KAA5B,GAHpB,CAIKL,WAAW,eAAI,KAAC,UAAD,wBAAY,KAAC,IAAD,EAAM,EAAE,CAAE,iBAAV,CAA4B,KAAK,CAAE,CAACM,cAAc,CAAE,MAAjB,CAAyBC,KAAK,CAAE,OAAhC,CAAnC,4BAAZ,EAJpB,CAKKP,WAAW,eAAI,KAAC,UAAD,EAAY,OAAO,CAAEG,YAArB,uBAAmC,KAAC,IAAD,EAAM,EAAE,CAAE,SAAV,CAAoB,KAAK,CAAE,CAACG,cAAc,CAAE,MAAjB,CAAyBC,KAAK,CAAE,OAAhC,CAA3B,qBAAnC,EALpB,CAMKP,WAAW,EAAE,IAAb,eAAqB,KAAC,UAAD,EAAY,OAAO,CAAEG,YAArB,uBAAmC,KAAC,IAAD,EAAM,EAAE,CAAE,SAAV,CAAoB,KAAK,CAAE,CAACG,cAAc,CAAE,MAAjB,CAAyBC,KAAK,CAAE,OAAhC,CAA3B,qBAAnC,EAN1B,GADA,EAFJ,GADJ,EADA,EADJ,CAqBH","sourcesContent":["import React, { useRef, useState } from \"react\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\n\nimport {\nForm,\nFormWrap,\nFormLabel,\nFormInput,\nFormH1,\nFormButton,\nFormH2,\nContainer,\nBox,\nText,\nIcon,\nAlert,\nFormContent} from './SigninElements'\n\nimport {Button, ButtonRouter} from '../ButtonElement';\n\nexport default function Dashboard() {\n  const [error, setError] = useState(\"\")\n  const { currentUser, logout } = useAuth()\n  const history = useHistory()\n\n  async function handleLogout() {\n    setError(\"\")\n\n    try {\n      await logout()\n      history.push(\"/signin\")\n    } catch {\n      setError(\"Failed to log out\")\n    }\n  }\n\n    return (\n        <>\n        <Container>\n            <FormWrap>\n                <Icon to =\"/\">GuardMyPi</Icon>\n                <FormContent>\n                <Box>\n                    {currentUser && <FormH1>Profile</FormH1>}\n                    {error && <Alert>{error}</Alert>}\n                    {currentUser && <FormH2>Email: {currentUser.email}</FormH2>}\n                    {currentUser && <FormButton><Link to =\"/update-profile\" style={{textDecoration: 'none', color: '#ffff'}}>Update Profile</Link></FormButton>}\n                    {currentUser && <FormButton onClick={handleLogout}><Link to =\"/signin\" style={{textDecoration: 'none', color: '#ffff'}}>Log Out</Link></FormButton>}\n                    {currentUser==null && <FormButton onClick={handleLogout}><Link to =\"/signin\" style={{textDecoration: 'none', color: '#ffff'}}>Sign In</Link></FormButton>}\n                  </Box>\n            </FormContent>\n            </FormWrap>\n        \n        </Container> \n    </>\n    )\n        \n}\n"]},"metadata":{},"sourceType":"module"}